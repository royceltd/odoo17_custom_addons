<odoo>
    <data>

        <!-- Customer SMS Wizard Form View -->
        <record id="view_customer_sms_wizard_form" model="ir.ui.view">
            <field name="name">customer.sms.wizard.form</field>
            <field name="model">customer.sms.wizard</field>
            <field name="arch" type="xml">
                <form string="Send SMS to Customers">
                    <sheet>
                        <div class="oe_title">
                            <h1>üè¢ Send SMS to Customers</h1>
                            <p>Send bulk SMS messages to your customers</p>
                        </div>
                        
                        <!-- Customer Selection -->
                        <group string="üéØ Customer Selection">
                            <group name="selection_type" string="Selection Method">
                                <field name="selection_type" widget="radio"/>
                            </group>
                            <group name="statistics" string="Statistics">
                                <field name="total_customers" readonly="1"/>
                                <field name="customers_with_phone" readonly="1"/>
                            </group>
                        </group>

                        <!-- Specific Customer Selection -->
                        <group string="üë• Select Customers" 
                               invisible="selection_type == 'all'">
                            
                            <field name="customer_ids" 
                                   widget="many2many_tags" 
                                   placeholder="Select customers to send SMS to..."
                                   invisible="selection_type != 'selected'"
                                   required="selection_type == 'selected'"
                                   options="{'no_create': True}"/>

                            <field name="category_ids" 
                                   widget="many2many_tags" 
                                   placeholder="Select customer categories..."
                                   invisible="selection_type != 'category'"
                                   required="selection_type == 'category'"
                                   options="{'no_create': True}"/>
                        </group>

                        <!-- Message Composition -->
                        <group string="‚úâÔ∏è Message Composition">
                            <field name="template_id" 
                                   placeholder="Select a template or enter custom message below"
                                   options="{'no_create_edit': True}"/>
                            <field name="custom_message" 
                                   widget="text" 
                                   placeholder="Enter your custom SMS message here..."
                                   invisible="template_id != False"/>
                        </group>

                        <!-- Message Preview -->
                        <div class="alert alert-success mt-3" 
                             invisible="message_preview == False">
                            <h5>üëÄ Message Preview</h5>
                            <p><strong>Preview (with sample company "ABC Company Ltd"):</strong></p>
                            <div class="border p-2 bg-light">
                                <field name="message_preview" widget="text" readonly="1" nolabel="1"/>
                            </div>
                        </div>

                        <!-- Information Box -->
                        <div class="alert alert-info" role="alert">
                            <h5>üìã Important Notes:</h5>
                            <ul>
                                <li><strong>Customers:</strong> Only companies marked as customers will be included</li>
                                <li><strong>Phone Numbers:</strong> Only customers with mobile or phone numbers will receive SMS</li>
                                <li><strong>Categories:</strong> Filter customers by their assigned categories</li>
                                <li><strong>Templates:</strong> Use <code>${name}</code> for dynamic company names</li>
                            </ul>
                        </div>

                    </sheet>
                    <footer>
                        <button name="send_sms" 
                                type="object" 
                                string="üì§ Send SMS to Customers" 
                                class="btn-primary"
                                invisible="customers_with_phone == 0"/>
                        <button string="Cancel" class="btn-secondary" special="cancel"/>
                        
                        <div class="alert alert-warning mt-2" 
                             invisible="customers_with_phone > 0">
                            <strong>‚ö†Ô∏è Cannot Send:</strong> No customers with valid phone numbers found.
                        </div>
                    </footer>
                </form>
            </field>
        </record>

    </data>
</odoo>